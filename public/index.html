<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="/home.css">
    <meta charset="UTF-8">
    <title>Music Share</title>
</head>

<script>

    function logIn() {
        localStorage.setItem('loggedIn', true)
        checkLoginState()
    }

    function logOut() {
        localStorage.setItem('loggedIn', false)
        checkLoginState()
    }

    function checkLoginState() {
        if (localStorage.getItem('loggedIn') == 'true') {
            document.getElementById('mainLogin').style.display = 'none'
            document.getElementById('mainPage').style.display = 'block'
        } else if (localStorage.getItem('loggedIn') == 'false') {
            document.getElementById('mainLogin').style.display = 'block'
            document.getElementById('mainPage').style.display = 'none'
        }
    }

    window.onload = checkLoginState;

</script>

<body>
    <div id="mainLogin">
        <h1>Music Share</h1>
        <a class="button" href="/api/login">Authorize your Spotify account</a>
        <button class="button secondary-button" onClick="logIn()">Log In</button>
    </div>
    <div id="mainPage" style='display: none;'>
        <nav>
            <a href="">Music Share</a>
            <div class="searchBar"></div>
            <div class="pfp" onClick="logOut();"></div>
        </nav>
        <div class="users">
            <div onClick="logOut();" class="userCard">
                test
            </div>
        </div>
    </div>
</body>

</html>